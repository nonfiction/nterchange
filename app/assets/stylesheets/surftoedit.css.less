@components: "../../../nterchange/assets/components";

// @import "@{components}/bootstrap/less/bootstrap";
@import "@{components}/bootstrap/less/variables";
@import "@{components}/bootstrap/less/mixins";
// @import (less) "@{components}/animate/animate/css/animate.css";
@import "variables";
@import "mixins";

@inherit: #a1aaf8; 
@active: #a1aaf8; 

// Mini toolbar when there's no grid
button.ntoolbar-toggle {
  display: block;
  position: relative;
  float: left;
  margin-right: 5px;
}
.ntoolbar { 
  display: none;
  position: relative;
  float: left;
}
.editable-region {
  clear: both;
}
.btn-label, .btn-label[disabled] { .opacity(1); }

.nform { 
  display: none; 
  font-size: 14px;
}
.asset-popover { 
  font-size: 14px;
}
.popover-form {
  font-size: 14px;
  min-width: 250px;
  label { width: 98%; font-weight: normal; font-size: 13px; }
  label span { font-weight: bold; }
  input { width: 100%; }
}

// Grid-Block Toolbar Styles
.grid-block {
  .ntoolbar { display: none; }
  .ui-resizable-handle { display: none !important; }
  button.ntoolbar-toggle {
    position: absolute;
    right: 10px;
    top: 0;
    z-index: 100;
    cursor: pointer;
    margin: 0;
  }
  .page-content { 
    position: relative;
    width: 100%;
    height: 100%;
    min-height: 40px; 
  }
  .editable-region {
    width: 100%;
    height: 100%;
    clear: none;
  }

  .grid-block-dimensions { display: none; }

  .edit-mode { display: none; }

  // Keep the toggle button in sight when in zero col mode
               &[data-col-xs="auto"] { button.ntoolbar-toggle { position: relative; right: auto; } }
  @media @sm { &[data-col-sm="auto"] { button.ntoolbar-toggle { position: relative; right: auto; } } }
  @media @md { &[data-col-md="auto"] { button.ntoolbar-toggle { position: relative; right: auto; } } }
  @media @lg { &[data-col-lg="auto"] { button.ntoolbar-toggle { position: relative; right: auto; } } }
}

// Grid-Block Toolbar Styles enabled
.grid-block.edit-mode {

  // Animations
  .transition(width .5s ease-in-out, height .5s ease-in-out;);
  &.resizing { .transition(none); }

  .edit-mode { display: inline-block; cursor: pointer;  }
  .edit-mode-inline { display: inline; }
  .edit-mode-block { display: block; }

  .ntoolbar { 
    display: block;
    position: absolute;
    z-index: 100;
    right: 50px;
    top: 0px;
    // top: -30px;
    // right: 0px;

    .col-chooser, .row-chooser {
      li { float: left; }
      li a { width: 50px; text-align: center; }
      li a.active { background: @active; }
      li a.inherit { background: lightgray; }
    }
    .col-chooser {
      li a.half { width: 75px; }
      li a.full { width: 155px; }
      ul.dropdown-menu { left: 0px; min-width: 155px; }
    }
    .row-chooser {
      li a.half { width: 129px; }
      li a.full { width: 260px; }
      ul.dropdown-menu { left: -130px; left: -147px; min-width: 260px; }
    }
  }

  .ui-resizable-handle { 
    display: block !important; 
    background-color: gray;
    background-size: 25px 25px;
    &.ui-resizable-e {
      right: 0;
      background-image: linear-gradient(transparent 50%, rgba(255,255,255,.5) 50%);
    }
    &.ui-resizable-s { 
      bottom: 0;
      background-image: linear-gradient(90deg, transparent 50%, rgba(255,255,255,.5) 50%);
    }
    .opacity(0.5);
  }

  .zeroWidthGridBlock() {
    .ui-resizable-handle { display: none !important; }
    .editable-region { clear: left; }
    .ntoolbar { position: relative; right: auto; }
    button.ntoolbar-toggle { position: relative; right: auto; }
  }
               &[data-col-xs="auto"] { .zeroWidthGridBlock(); }
  @media @sm { &[data-col-sm="auto"] { .zeroWidthGridBlock(); } } 
  @media @md { &[data-col-md="auto"] { .zeroWidthGridBlock(); } }
  @media @lg { &[data-col-lg="auto"] { .zeroWidthGridBlock(); } }

  .grid-block-dimensions {
    display: block;
    position: absolute;
    z-index: 90;
    bottom: 0px;
    right: 0px;

    padding: 0 15px 5px 10px;
    font-size: 15px;
    color: black;
    background: fade(lighten(black, 50%), 80%);

    i { 
      color: fade(black, 50%); 
      font-size: 13px;
      font-style: italic;
      font-weight: bold;
    }

    .grid-block-x { 
      padding: 0 2px; 
      font-size: 14px; 
      font-weight: bold;
      color: fade(black, 50%); 
    }
    .grid-block-col { }
    .grid-block-row { }
  }

  .ntoolbar {
    button.pull-left, button.pull-right {
      &:active, &:focus { background-color: #fff; }
      &.active { background-color: @active; }
    }
  }

  // Inherit colors for pull-left toolbar icon
  &[data-pull-xs="left"] .ntoolbar button.pull-left.inactive { &[data-grid=sm], &[data-grid=md], &[data-grid=lg] { color: @inherit; } }
  &[data-pull-sm="left"] .ntoolbar button.pull-left.inactive { &[data-grid=md], &[data-grid=lg] { color: @inherit; } }
  &[data-pull-md="left"] .ntoolbar button.pull-left.inactive { &[data-grid=lg] { color: @inherit; } }

  // Inherit colors for pull-right toolbar icon
  &[data-pull-xs="right"] .ntoolbar button.pull-right.inactive { &[data-grid=sm], &[data-grid=md], &[data-grid=lg] { color: @inherit; } }
  &[data-pull-sm="right"] .ntoolbar button.pull-right.inactive { &[data-grid=md], &[data-grid=lg] { color: @inherit; } }
  &[data-pull-md="right"] .ntoolbar button.pull-right.inactive { &[data-grid=lg] { color: @inherit; } }

  // Inherit colors for col toolbar icon 
  &[data-col-sm="inherit"] .col-chooser-sm button { color: @inherit; }
  &[data-col-md="inherit"] .col-chooser-md button { color: @inherit; }
  &[data-col-lg="inherit"] .col-chooser-lg button { color: @inherit; }

  // Inherit colors for row toolbar icon 
  &[data-row-sm="inherit"] .row-chooser-sm button { color: @inherit; }
  &[data-row-md="inherit"] .row-chooser-md button { color: @inherit; }
  &[data-row-lg="inherit"] .row-chooser-lg button { color: @inherit; }
}

// Floating toolbar for surf-to-edit
.ntoolbar-main {
  & + .ntoolbar-shim {
    display: block;
    height: 50px;
    line-height: 50px;
    width: 100%;
    position: relative;
  }
  .grid-size {
    line-height: 20px;
    margin: 10px 20px;
    @media @sm { margin: 15px 20px 0 20px !important; }
    b { text-transform: uppercase; }
  }
  li { float: left; }

  ul.navbar-nav { float: left; }
  ul.navbar-nav.navbar-right { float: right; }

  @media @sm {
    ul.navbar-nav { float: left; }
    ul.navbar-nav.navbar-right { float: right; }
  }
}
